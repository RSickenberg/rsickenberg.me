<!-- https://github.com/stylessh/stylessh-v2/blob/main/src/components/About.astro -->
<section
  class="min-h-screen flex justify-center items-center"
  id="about"
  data-scroll-section
  data-scroll-offset="75%"
  data-scroll-id="about"
>
  <div class="grid grid-cols-1 sm:grid-cols-2 w-[90%] mx-auto gap-10">
    <article
      class="py-6 px-8 text-center sm:text-left"
      data-scroll
      data-scroll-speed="1.2"
    >
      <h2 class="text-4xl dark:text-white text-black font-bold opacity-0 about">
        About me.
      </h2>
      <!-- Line -->
      <div
        data-scroll
        data-scroll-call="_drawAbout"
        class="h-16 w-0.5 bg-gray-200 my-6 mx-auto md:m-6 line opacity-0"
      >
      </div>
      <div class="opacity-0 about-subtitle">
        <div class="text-black dark:text-white space-y-6">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla porta
          porttitor lectus, at scelerisque massa ornare congue. Nunc purus
          lacus, venenatis at aliquet nec, maximus nec eros. Suspendisse
          sollicitudin ligula odio, molestie facilisis sem aliquet sed. Vivamus
          semper elit ac mollis consectetur. Aenean fringilla vitae massa id
          suscipit. Praesent laoreet finibus interdum. Proin nec cursus diam.
          Sed malesuada neque vitae ultrices auctor. Suspendisse nunc nisi,
          luctus ut massa id, dapibus interdum nisl. Etiam congue faucibus augue
          vitae feugiat. Maecenas volutpat rhoncus tristique. Nam pharetra nisi
          id ligula placerat, eu sagittis eros condimentum. Cras gravida nibh et
          leo placerat egestas.
        </div>
      </div>
    </article>
  </div>
</section>
<script>
  import { gsap } from "gsap";
  import { colors, alphaValues, isDarkMode } from "utils/getColors";

  _initialize();

  window
    .matchMedia("(prefers-color-scheme: dark)")
    .addEventListener("change", () => {
      _setColors();
    });

  window["_drawAbout"] = function () {
    gsap.to(".about", {
      opacity: isDarkMode ? alphaValues.dark : alphaValues.light,
      delay: 0.3,
      duration: 1,
      ease: "power4.out",
    });
    gsap.to(".line", {
      opacity: isDarkMode ? alphaValues.dark : alphaValues.light,
      delay: 0.4,
      duration: 1,
      ease: "power4.out",
    });
    gsap.to(".about-subtitle", {
      opacity: isDarkMode ? alphaValues.dark : alphaValues.light,
      delay: 0.5,
      duration: 1,
      ease: "power4.out",
    });
  };

  function _initialize() {
    gsap.from(".line", {
      opacity: 0,
    });
    gsap.from(".about", {
      opacity: 0,
    });

    _setColors();
  }

  function _setColors() {
    gsap.set(".line", {
      color: isDarkMode ? colors.light : colors.dark,
      opacity: isDarkMode ? alphaValues.dark : alphaValues.light,
    });
    gsap.set(".about", {
      color: isDarkMode ? colors.light : colors.dark,
      opacity: isDarkMode ? alphaValues.dark : alphaValues.light,
    });
    gsap.set(".about-subtitle", {
      color: isDarkMode ? colors.light : colors.dark,
    });
  }
</script>
