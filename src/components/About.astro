<!-- https://github.com/stylessh/stylessh-v2/blob/main/src/components/About.astro -->
<section
  class="min-h-screen flex justify-center items-center"
  id="about"
  data-scroll-section
  data-scroll-offset="75%"
  data-scroll-id="about"
>
  <div class="grid grid-cols-1 sm:grid-cols-2 w-[90%] mx-auto gap-10">
    <article
      class="py-6 px-8 text-center sm:text-left"
      data-scroll
      data-scroll-speed="1.2"
    >
      <h2 class="text-4xl dark:text-white text-black font-bold opacity-0 about">
        About me.
      </h2>
      <div
        data-scroll
        data-scroll-call="_drawAbout"
        class="h-16 w-0.5 bg-gray-200 my-6 mx-auto md:m-6 line opacity-0"
      >
      </div>
    </article>
  </div>
</section>
<script>
  import { gsap } from "gsap";
  import { colors, alphaValues, isDarkMode } from "utils/getColors";

  _initialize();

  window
    .matchMedia("(prefers-color-scheme: dark)")
    .addEventListener("change", () => {
      _setColors();
    });

  window["_drawAbout"] = function () {
    gsap.to(".line", {
      opacity: isDarkMode ? alphaValues.dark : alphaValues.light,
      delay: .5,
      duration: 1,
      ease: "power4.out",
    });
    gsap.to(".about", {
      opacity: isDarkMode ? alphaValues.dark : alphaValues.light,
      delay: .5,
      duration: 1,
      ease: "power4.out",
    });
  };

  function _initialize() {
    gsap.from(".line", {
      opacity: 0,
    });
    gsap.from(".about", {
      opacity: 0,
    });

    _setColors();
  }

  function _setColors() {
    gsap.set(".line", {
      color: isDarkMode ? colors.light : colors.dark,
      opacity: isDarkMode ? alphaValues.dark : alphaValues.light,
    });
    gsap.set(".about", {
      color: isDarkMode ? colors.light : colors.dark,
      opacity: isDarkMode ? alphaValues.dark : alphaValues.light,
    });
  }
</script>
