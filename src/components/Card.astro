---
const { tech } = Astro.props;
import { Image } from "@astrojs/image/components";

let imgClass = "w-[50%] sm:w-[35%] h-auto self-center sm:self-left m-3";
imgClass = tech.invertOnDark ? imgClass + " shouldInvertOnDark invert" : imgClass;
---

<div
  class="card flex flex-col justify-around border-2 rounded-xl border-black dark:border-white space-y-6 min-w-[120px] min-h-[200px]"
>
<pre class="self-left ml-2 text-black dark:text-white opacity-40">#{tech.order}</span>
  <Image
    src={tech.imagePath}
    width={tech.imageWidth}
    height={tech.imageHeight}
    alt={tech.name}
    format="webp"
    class={imgClass}
  />
  <h2 class="self-center text-xl sm:text-2xl text-black dark:text-white">{tech.name}</h2>
</div>

<script>
  window
  .matchMedia("(prefers-color-scheme: dark)")
  .addEventListener("change", (e) => {
    _toggleInvertOnDark();
  });

  function _toggleInvertOnDark() {
    const shouldInvertOnDark = document
      .querySelector(".shouldInvertOnDark")
      .classList.toggle("invert");
  }
</script>
